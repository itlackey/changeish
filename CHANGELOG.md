# CHANGELOG

## v0.2.0

### Features

- Added `--include-pattern` and `--exclude-pattern` arguments:
   - These replace the old `--short-diff` argument for more flexible diff pattern matching.

- Implemented config file support via `--config-file`:
   - Allows loading settings from a .env file.

- Changed temp file handling:
   - History and prompt files are now created using temporary files.
   - Files are saved only if the appropriate `--save-history` or `--save-prompt` arguments are provided.

- Updated argument parsing:
   - Replaced `prompt_only` flag with `save_prompt`.
   - Added new flags for handling history and config file options.

- Enhanced commit range handling:
   - Improved logic for determining commit ranges, especially when using `--all`.

### Chores

- Documentation updates:
   - Updated the todos.md file to reflect completed enhancements.
   - Added notes about newly added arguments and changes in behavior.

- Minor code cleanup and refactoring:
   - Some internal variable names were changed for clarity.
   - Improved commit message generation logic slightly.

- Improved error handling by adding checks for the existence of the Git repository and the presence of a version file.
- Added `.vscode/launch.json` for better debugging experience.
- Enhanced `changes.sh` to provide more informative error messages when the specified version file does not exist.

Generated by changeish

## v0.1.10

### Enhancements

- Implemented a `generate_remote` function to interact with a remote API for generating changelogs.
- Added support for sourcing a `.env` file to provide `CHANGEISH_API_URL` and `CHANGEISH_API_KEY`.
- Introduced a `remote` flag in the script to switch between local and remote API generation.
- IN PROGRESS support remote API for generation
- Update changesish to source .env file
- Refactored the prompt template for generating change logs.
- Updated `changes.sh` to use unified diff format and improved handling of version file changes.
- Refactored `generate_prompt` function to include a new prompt template.
- Improved diff generation for staged changes by using unified diff format.
- Added support for specifying the remote API model and URL for changelog generation via command-line options.
- Improved handling of environmental variables for remote changelog generation.

### Fixes

- Fixed the condition check in `generate_prompt` function to ensure the correct prompt template is used.
- Corrected the prompt file path in `install.sh`.
- Corrected variable names for API URL and model in the changelog generation process.
- Updated awk logic to correctly insert the changelog from a temporary file.

### Chores

- Updated `.gitignore` to include `.env` file.
- Cleaned up legacy API base URL variable.
- Renamed functions and variables for clarity.

Generated by changeish

## v0.1.9 (Wed Jun 18 2025)

### Enhancements

* Added support for `--available-releases` flag to list all GitHub release tags.
* Added logic to fetch and display the latest version number from GitHub API using `jq`.
* Added fallback behavior: if no `--from`, `--to`, `--all`, or `--staged` flags are provided, script defaults to showing current uncommitted changes.
* Improved diff output to show only added lines (`+`) in todos-related `.md` files and exclude diff headers.
* Enhanced diff section by displaying both todos-related and full diffs separately.
* Added explicit check to confirm the script is run inside a Git repository, with appropriate error message if not.
* Improved documentation and inline examples in the help section.
* Updated `default_version_files` to include `changes.sh` as a version target file.

### Chores

* Updated `install.sh` to fetch and install the latest tagged release if no version is provided.
* Modified `install.sh` to display which version is being installed for clarity.
* Replaced static version fallback `"main"` with dynamic resolution via GitHub API.


Generated by changeish

## v0.1.8 (Wed Jun 18 2025)

### Fixes

* Fixed POSIX sh compatibility bug in `install.sh`

Generated by changeish

## v0.1.7 (Wed Jun 18 2025)

### Enhancements

- **ADDED:** Version number changes in `install.sh`

### Fixes

- **FIXED:** Parsing issue with --to and --from args
- **FIXED:** install.sh issue with getting latest version
- **FIXED:** bug with defaulting to --current if no other options are passed

Generated by changeish

## v0.1.6

### Enhancements

* Improved git history output to reduce noise and highlight version file updates and todo files.
* Updated `--help` output.

### Fixes

* Parsing issue with `--to` and `--from` args.
* Version file information missing in prompt for staged and current changes.

Generated by changeish

## 0.1.5

### Enhancements

* Added `install.sh` script for easier installation.
* Add `--update` argument to make updating the script easier.

### Chores

* Updated README.md to include usage instructions.

Generated by changeish

## v0.1.4

### Enhancements

* Updated `changes.sh` script to include support for generating git history based on uncommitted and staged changes.
* Enhanced version information extraction from the todos file.
* Improved error handling when no commits are found in the specified range.

### Fixes

* Fixed issue where the start date was not correctly calculated for the git history generation.
* Resolved bug in version number extraction when multiple version files were present.

### Chores

* Updated README with instructions on how to use the new features of the `changes.sh` script.

Generated by changeish

## v0.1.3

### Enhancements

* Provide default version file for python and node.
* Provide a version file arg to override the defaults.

### Chores

* Refactor code to use functions.

Generated by changeish

## v0.1.2

### Enhancements

* Refactor code to use functions.
* Switch from --generate to --prompt-only to allow the script to generate the changelog by default.

Generated by changeish

## v0.1.1

### Enhancements

* Introduced changes in the script logic to ensure accurate and consistent insertion into the CHANGELOG.md file.

### Fixes

* Resolved issues with appending fresh changelog at the end if no second-level heading was found previously.
* Ensured that the "Generated by changeish" message is added correctly within the generated output for enhanced clarity and understanding of changes made by scripts or models used.

### Chores

* Updated logic to include `prompt.md` as the new source file instead of `.prompt`.
* Revised CHANGELOG.md insertion logic to ensure compatibility with model-generated content.
* Adjusted script functions and paths within `changes.sh` to support better maintenance practices.

Generated my changeish

## v0.1.0

### Enhancements

* Implemented a new prompt generation for changelog using AI models like Ollama.
* Added a new prompt file `changelog_prompt.md`.
* Provided the ability to specify both from and to revisions for git history.

### Chores

* Cleaned up default output file names (ie. prompt.md, history.md).
* Added the message "Managed by changeish" to the change output.

### Fixes

* Fixed an issue where the script does not append to the end of changelog if no existing sections are found.
